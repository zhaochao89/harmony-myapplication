const alphabets = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K',
  'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];

@Component
export struct ArtUITestList {
  //Listæ»šåŠ¨ç›‘å¬
  private listScroller: Scroller = new Scroller();
  @State selectedIndex: number = 1;

  build() {
    Stack({ alignContent: Alignment.BottomEnd }) {
      this.listItemGroup()
      // Button(){
      //   Text('ðŸ”¼')
      // }
      // .onClick(() => {
      //   //ç‚¹å‡»æŒ‰é’®æŒ‡å®šè·³è½¬ä½ç½®ï¼Œè¿”å›žåˆ—è¡¨é¡¶éƒ¨
      //   this.listScroller.scrollToIndex(0)
      // })
      //å­—æ¯è¡¨ç´¢å¼•ç»„ä»¶
      AlphabetIndexer({ arrayValue: alphabets, selected: 1 })
        .selected(this.selectedIndex)
        .onSelect((index: number) => {
          console.log(`+++++++ç‚¹å‡»äº†${index}`)
          this.listScroller.scrollToIndex(index);
        });
    }
  }

  @Builder
  item(text: string) {
    Row() {
      Image($r('app.media.startIcon')).width(40).height(40).borderRadius(20).margin(10)
      Text(text).fontSize(24)
    }
  }

  @Builder
  listItem() {
    //spaceè®¾ç½®åˆ—è¡¨é¡¹ä¹‹é—´çš„é—´è·
    List({ space: 10 }) {
      //ListItemåªèƒ½æœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ç»„ä»¶ï¼Œæ‰€æœ‰ç”±å¤šä¸ªç»„ä»¶å…ƒç´ ç»„æˆæ—¶éœ€è¦å°†è¿™äº›å…ƒç´ ç»„åˆåˆ°ä¸€ä¸ªå®¹å™¨ç»„ä»¶å†…æˆ–è€…è‡ªå®šä¹‰ä¸€ä¸ªç»„ä»¶
      ListItem() {
        this.item('åŒ—äº¬')
      }

      ListItem() {
        this.item('æ­å·ž')
      }

      ListItem() {
        this.item('ä¸Šæµ·')
      }

      ListItem() {
        Row() {
          Image($r('app.media.startIcon')).width(40).height(40).borderRadius(20).margin(10)
          Text('æ·±åœ³').fontSize(24)
        }
      }

      ListItem() {
        Row() {
          Image($r('app.media.startIcon')).width(40).height(40).borderRadius(20).margin(10)
          Text('æ­¦æ±‰').fontSize(24)
        }
      }

      ListItem() {
        Row() {
          Image($r('app.media.startIcon')).width(40).height(40).borderRadius(20).margin(10)
          Text('å¹¿å·ž').fontSize(24)
        }
      }

      ListItem() {
        Row() {
          Image($r('app.media.startIcon')).width(40).height(40).borderRadius(20).margin(10)
          Text('é‡åº†').fontSize(24)
        }
      }
    }
    .height(300)
    .backgroundColor('#FFF1F3F5')
    //è®¾ç½®å­å…ƒç´ åœ¨äº¤å‰è½´ä¸Šæ˜¾ç¤ºå‡ åˆ—ï¼Œé»˜è®¤æ˜¯1
    .lanes(1)
    //è®¾ç½®å­å…ƒç´ åœ¨äº¤å‰è½´ä¸Šçš„å¯¹é½æ–¹å¼
    .alignListItem(ListItemAlign.Start)
    //è®¾ç½®åˆ†å‰²çº¿
    .divider({
      strokeWidth: 1,
      color: Color.Green,
      startMargin: 16,
      endMargin: 16
    })
    //è®¾ç½®æ»šåŠ¨æ¡æ˜¾ç¤º
    .scrollBar(BarState.On)
  }

  @Builder
  header(text: string) {
    Text(text)
      .fontSize(20)
      .fontColor(Color.Black)
      .width('100%')
      .padding(5)
      .backgroundColor('#fff1f2f3')
  }

  @Builder
  endAction() {
    Text('åˆ é™¤').fontSize(24).fontColor(Color.Red);
  }
  @Builder
  startAction() {
    Text('æ ‡è®°').fontSize(24).fontColor(Color.Red);
  }

  @Builder
  listItemGroup() {
    List({ space: 20, scroller: this.listScroller }) {
      ListItemGroup({ header: this.header('A') }) {
        ListItem() {
          Text('å®‰å¾½')
            .width('100%').fontSize(24).textAlign(TextAlign.Start)
        }
        .margin(10)
        //è®¾ç½®å·¦æ»‘å’Œå³æ»‘çš„æ“ä½œ
        .swipeAction({
          start: {
            builder: () => this.startAction()
          },
          end: {
            builder: () => this.endAction(),
          }
        })

        ListItem() {
          //æ ‡è®°ç»„ä»¶
          Badge({
            count: 2,
            position: BadgePosition.RightTop,
            style: {
              badgeSize: 16,
              badgeColor: Color.Red
          }
          }){
            Text('å®‰åº†').fontSize(24)
          }
        }
        .margin(10)

        ListItem() {
          Text('å®‰é˜³').fontSize(24)
        }
        .margin(10)
      }

      ListItemGroup({ header: this.header('B') }) {
        ListItem() {
          Text('åŒ—äº¬').fontSize(24)
        }
        .margin(10)
      }

      ListItemGroup({ header: this.header('C') }) {
        ListItem() {
          Text('é•¿æ²™').fontSize(24)
        }
        .margin(10)

        ListItem() {
          Text('é‡åº†').fontSize(24)
        }
        .margin(10)

        ListItem() {
          Text('æˆéƒ½').fontSize(24)
        }
        .margin(10)
      }

      ListItemGroup({ header: this.header('D') }) {
        ListItem() {
          Text('é•¿æ²™').fontSize(24)
        }
        .margin(10)

        ListItem() {
          Text('é‡åº†').fontSize(24)
        }
        .margin(10)

        ListItem() {
          Text('æˆéƒ½').fontSize(24)
        }
        .margin(10)
      }

      ListItemGroup({ header: this.header('E') }) {
        ListItem() {
          Text('é•¿æ²™').fontSize(24)
        }
        .margin(10)

        ListItem() {
          Text('é‡åº†').fontSize(24)
        }
        .margin(10)

        ListItem() {
          Text('æˆéƒ½').fontSize(24)
        }
        .margin(10)
      }

      ListItemGroup({ header: this.header('F') }) {
        ListItem() {
          Text('é•¿æ²™').fontSize(24)
        }
        .margin(10)

        ListItem() {
          Text('é‡åº†').fontSize(24)
        }
        .margin(10)

        ListItem() {
          Text('æˆéƒ½').fontSize(24)
        }
        .margin(10)
      }

      ListItemGroup({ header: this.header('G') }) {
        ListItem() {
          Text('é•¿æ²™').fontSize(24)
        }
        .margin(10)

        ListItem() {
          Text('é‡åº†').fontSize(24)
        }
        .margin(10)

        ListItem() {
          Text('æˆéƒ½').fontSize(24)
        }
        .margin(10)
      }
    }
    .height(300)
    .divider({
      strokeWidth: 1,
      color: Color.Blue
    })
    //è®¾ç½®å¤´éƒ¨å¸é¡¶æ•ˆæžœ
    .sticky(StickyStyle.Header)
    .onScrollIndex((firstIndex: number) => {
      console.error(`+++++++${firstIndex}`);
      this.selectedIndex = firstIndex;
    })
  }
}